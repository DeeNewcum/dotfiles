#!/bin/bash

# Prerequisites on Debian:
#       sudo apt-get install ncurses-dev
#

set -x

SKIPTO=0            # allow for primitive 'make'-like functionality, by specifying a line to skip ahead to


                                cd ~/apps
[ $SKIPTO -le $LINENO ] &&      wget -N http://ftp.vim.org/pub/vim/unix/vim-7.3.tar.bz2
[ $SKIPTO -le $LINENO ] &&      tar -xvjf vim-7.3.tar.bz2

[ $SKIPTO -le $LINENO ] &&      mv vim73 vim73_source
[ $SKIPTO -le $LINENO ] &&      mkdir vim73

                                cd ~/apps/vim73_source/src

[ $SKIPTO -le $LINENO ] &&      perl -i -ple 's|^#prefix =.*|prefix = $ENV{HOME}/apps/vim73|' Makefile
[ $SKIPTO -le $LINENO ] &&      make
[ $SKIPTO -le $LINENO ] &&      make install

                                cd ~/apps/bin
[ $SKIPTO -le $LINENO ] &&      ln -s ../vim73/bin/* .

                                cd ~/apps/
[ $SKIPTO -le $LINENO ] &&      rm vim-7.3.tar.bz2
