" set default 'runtimepath' (without ~/.vim folders)
let &runtimepath = printf('%s/vimfiles,%s,%s/vimfiles/after', $VIM, $VIMRUNTIME, $VIM)

" what is the name of the directory containing this file?
let s:portable = expand('<sfile>:p:h')

exec "source " . s:portable . "/.vimrc"

" add the directory to 'runtimepath'
let &runtimepath = printf('%s/.vim,%s,%s/.vim/after', s:portable, &runtimepath, s:portable)
