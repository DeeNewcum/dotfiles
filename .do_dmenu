#!/bin/bash

# This script gets launched directly in response to some keyboard shortcut.
# It launches dmenu  (by way of pydmenu.py).
#
#
# Command to configure a key to launch this
# =========================================
#
#   Ubuntu 12.04:
#       gnome-control-center keyboard
#
#   Ubuntu 10.10:
#       gnome-keybinding-properties


# without this, aliases won't work in dmenu
shopt -s expand_aliases     # allow alias expansion in non-interactive shells

[ -f ~/.bash_aliases ] && source ~/.bash_aliases

cmdline=$(~/apps/bin/pydmenu.py)
echo $cmdline   >  /tmp/$USER.dmenu
eval "$cmdline" >> /tmp/$USER.dmenu 2>&1

    # Sometimes aliases and other commands don't work.
    # To diagnose the problem, run:
    #       tail -f /tmp/$USER.dmenu
